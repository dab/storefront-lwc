<template>
  <!-- Vertical layout for sidebar -->
  <div class="filter-groups">
    <!-- Type Filter -->
    <div class="slds-form-element slds-m-bottom_medium">
      <label class="slds-form-element__label" for="type-filter">Bike Type</label>
      <div class="slds-form-element__control">
        <select id="type-filter" name="type" class="slds-select" onchange="{handleFilterChange}">
          <template for:each="{typeOptions}" for:item="option">
            <option key="{option.value}" value="{option.value}" selected="{option.selected}">
              {option.label}
            </option>
          </template>
        </select>
      </div>
    </div>

    <!-- Brand Filter -->
    <div class="slds-form-element slds-m-bottom_medium">
      <label class="slds-form-element__label" for="brand-filter">Brand</label>
      <div class="slds-form-element__control">
        <select id="brand-filter" name="brand" class="slds-select" onchange="{handleFilterChange}">
          <template for:each="{brandOptions}" for:item="option">
            <option key="{option.value}" value="{option.value}" selected="{option.selected}">
              {option.label}
            </option>
          </template>
        </select>
      </div>
    </div>

    <!-- Price Range Filter -->
    <div class="slds-form-element slds-m-bottom_medium">
      <label class="slds-form-element__label">Price Range</label>
      <div class="slds-text-body_small slds-text-color_weak slds-m-bottom_x-small">
        ${activeFilters.priceRange.min} - ${activeFilters.priceRange.max}
      </div>
      <div class="slds-grid slds-grid_pull-padded-x-small">
        <div class="slds-col slds-p-horizontal_x-small">
          <input
            type="number"
            name="minPrice"
            class="slds-input"
            placeholder="Min"
            value="{activeFilters.priceRange.min}"
            onchange="{handleFilterChange}"
          />
        </div>
        <div class="slds-col slds-p-horizontal_x-small">
          <input
            type="number"
            name="maxPrice"
            class="slds-input"
            placeholder="Max"
            value="{activeFilters.priceRange.max}"
            onchange="{handleFilterChange}"
          />
        </div>
      </div>
    </div>
  </div>

  <!-- Active Filters -->
  <template if:true="{hasActiveFilters}">
    <div class="slds-m-top_medium">
      <h3 class="slds-text-heading_x-small slds-m-bottom_x-small">Active Filters</h3>
      <template for:each="{activeFiltersList}" for:item="filter">
        <span key="{filter.key}" class="slds-pill slds-m-bottom_x-small slds-m-right_x-small">
          <span class="slds-pill__label">{filter.label}</span>
          <button
            class="slds-button slds-button_icon slds-button_icon slds-pill__remove"
            title="Remove"
            data-filter="{filter.key}"
            onclick="{handleClearFilter}"
          >
            Ã—
            <span class="slds-assistive-text">Remove</span>
          </button>
        </span>
      </template>
    </div>
  </template>
</template>
